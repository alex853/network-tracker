<html>

<head>

    <title>Flights - Active Flights</title>

    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/bootstrap-table.min.css">
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/bootstrap-table.min.js"></script>
    <!--script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
            integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
            crossorigin="anonymous"></script-->

    <script>
        $(document).ready(function () {
            $.ajax({
                url: 'rest/flights/active-flights',
                //method: 'POST',
                dataType: 'json',
                success: function (response) {
                    $('#active-flights').bootstrapTable({
                        data: response.data
                    });
                    $('#active-flights').bootstrapTable('resetView', {
                        height: $('#active-flights').height() + 30
                    });
                },
                error: function (e) {
                    console.log(e.responseText);
                }
            });
        });

        function pilotFlightsPageLink(value) {
            return '<a href="pilot-flights.html?pilotNumber=' + value + '">' + value + '</a>';
        }

    </script>

    <style>
        .fixed-table-container { /* lets disable frame around table */
            border-width: 0px 0px 0px 0px;
        }
    </style>
</head>

<body>

<div class="container">
    <h1>Active Flights</h1>

    <table id="active-flights" class="table table-no-bordered">
        <thead>
        <tr>
            <th data-field="callsign">Callsign</th>
            <th data-field="pilotNumber" data-formatter="pilotFlightsPageLink">Pilot</th>
            <th data-field="aircraftType">Aircraft Type</th>
            <th data-field="regNo">Reg No</th>
            <th data-field="fpRoute">F/P Route</th>
            <th data-field="status">Status</th>
            <th data-field="takeoff">Takeoff</th>
            <th data-field="landing">Landing</th>
            <th data-field="distance">Distance</th>
            <th data-field="time">Time</th>
        </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
</div>

</body>

</html>
